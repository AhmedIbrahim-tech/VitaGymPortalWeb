@using Microsoft.AspNetCore.Mvc.ViewComponents
@{
	var currentController = ViewContext.RouteData.Values["Controller"]?.ToString();
	var userInfo = await Component.InvokeAsync("UserInfo");
	var userInfoModel = (userInfo as ViewViewComponentResult)?.ViewData?.Model as Core.ViewModels.UserManagementViewModels.CurrentUserViewModel;
	var userName = userInfoModel?.FullName ?? "Admin";
	var userRole = userInfoModel?.Role ?? "Admin";
	var userPhoto = userInfoModel?.PhotoUrl ?? "/assets/img/customer/customer15.jpg";
}

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
	<!-- Logo -->
	<div class="sidebar-logo active">
		<a href="@Url.Action("Index", "Home")" class="logo logo-normal">
			<img src="~/assets/img/logo.svg" alt="Img">
		</a>
		<a href="@Url.Action("Index", "Home")" class="logo logo-white">
			<img src="~/assets/img/logo-white.svg" alt="Img">
		</a>
		<a href="@Url.Action("Index", "Home")" class="logo-small">
			<img src="~/assets/img/logo-small.png" alt="Img">
		</a>
		<a id="toggle_btn" href="javascript:void(0);">
			<i data-feather="chevrons-left" class="feather-16"></i>
		</a>
	</div>
	<!-- /Logo -->
	<div class="modern-profile p-3 pb-0">
		<div class="text-center rounded bg-light p-3 mb-4 user-profile">
			<div class="avatar avatar-lg online mb-3">
				<img src="@userPhoto" alt="Img" class="img-fluid rounded-circle" onerror="this.src='/assets/img/customer/customer15.jpg'">
			</div>
			<h6 class="fs-14 fw-bold mb-1">@userName</h6>
			<p class="fs-12 mb-0">@userRole</p>
		</div>
		<div class="sidebar-nav mb-3">
			<ul class="nav nav-tabs nav-tabs-solid nav-tabs-rounded nav-justified bg-transparent" role="tablist">
				<li class="nav-item"><a class="nav-link active border-0" href="#">Menu</a></li>
			</ul>
		</div>
	</div>
	<div class="sidebar-header p-3 pb-0 pt-2">
		<div class="text-center rounded bg-light p-2 mb-4 sidebar-profile d-flex align-items-center">
			<div class="avatar avatar-md onlin">
				<img src="@userPhoto" alt="Img" class="img-fluid rounded-circle" onerror="this.src='/assets/img/customer/customer15.jpg'">
			</div>
			<div class="text-start sidebar-profile-info ms-2">
				<h6 class="fs-14 fw-bold mb-1">@userName</h6>
				<p class="fs-12">@userRole</p>
			</div>
		</div>
		<div class="d-flex align-items-center justify-content-between menu-item mb-3">
			<div>
				<a href="@Url.Action("Index", "Home")" class="btn btn-sm btn-icon bg-light">
					<i class="ti ti-layout-grid-remove"></i>
				</a>
			</div>
		</div>
	</div>
	<div class="sidebar-inner slimscroll">
		<div id="sidebar-menu" class="sidebar-menu">
			<ul>
				<li class="submenu-open">
					<h6 class="submenu-hdr">Main</h6>
					<ul>
						<li>
							<a href="@Url.Action("Index", "Home")" class="@(currentController == "Home" ? "active" : "")"><i class="ti ti-layout-grid fs-16 me-2"></i><span>Dashboard</span></a>
						</li>
					</ul>
				</li>
				<li class="submenu-open">
					<h6 class="submenu-hdr">Gym Management</h6>
					<ul>
						<li>
							<a href="@Url.Action("Index", "Member")" class="@(currentController == "Member" ? "active" : "")"><i class="ti ti-users-group fs-16 me-2"></i><span>Members</span></a>
						</li>
						<li>
							<a href="@Url.Action("Index", "Trainer")" class="@(currentController == "Trainer" ? "active" : "")"><i class="ti ti-user-check fs-16 me-2"></i><span>Trainers</span></a>
						</li>
						<li>
							<a href="@Url.Action("Index", "Session")" class="@(currentController == "Session" ? "active" : "")"><i class="ti ti-calendar-event fs-16 me-2"></i><span>Sessions</span></a>
						</li>
						<li>
							<a href="@Url.Action("Index", "Plan")" class="@(currentController == "Plan" ? "active" : "")"><i class="ti ti-file-text fs-16 me-2"></i><span>Plans</span></a>
						</li>
						<li>
							<a href="@Url.Action("Index", "Membership")" class="@(currentController == "Membership" ? "active" : "")"><i class="ti ti-id fs-16 me-2"></i><span>Memberships</span></a>
						</li>
						<li>
							<a href="@Url.Action("Index", "Booking")" class="@(currentController == "Booking" ? "active" : "")"><i class="ti ti-calendar-check fs-16 me-2"></i><span>Bookings</span></a>
						</li>
					</ul>
				</li>
				<li class="submenu-open">
					<h6 class="submenu-hdr">System</h6>
					<ul>
						<li>
							<a href="@Url.Action("Index", "UserManagement")" class="@(currentController == "UserManagement" ? "active" : "")"><i class="ti ti-users fs-16 me-2"></i><span>User Management</span></a>
						</li>
						<li>
							<a href="@Url.Action("Index", "RolesPermissions")" class="@(currentController == "RolesPermissions" ? "active" : "")"><i class="ti ti-shield fs-16 me-2"></i><span>Roles & Permissions</span></a>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
</div>
<!-- /Sidebar -->
